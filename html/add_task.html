<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="icon" href="/assets/img/favicon.png" />

  <link rel="stylesheet" href="/css/board.css">
  <link rel="stylesheet" href="/css/add-task.css">
  <link rel="stylesheet" href="/css/add-task-responsive.css">
  <link rel="stylesheet" href="/css/desktop_template.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="/js/date_picker.js"></script>

  <title>Add Task</title>
</head>

<body onload="init()" onclick="closeAllDropdowns(event)">

<div class="max-width">
  <header class="header">
    <img src="/assets/img/logo_responsive.png" alt="Logo" class="logo-only-responsive" />
    <span class="headline">Kanban Project Management Tool</span>

    <div class="nav-right">
      <a href="/html/help.html" class="help-btn" title="Help">
        <img src="/assets/img/help.png" alt="Help" />
      </a>
      <div class="user-profile" id="userProfile" onclick="toggleDropdown()">
        <img src="/assets/img/ellipse.png" alt="Profile">
        <span></span>
      </div>
      <div class="dropdown-menu" id="dropdownMenu">
        <a class="only-responsive" href="/html/help.html">Help</a>
        <a href="/html/legal_notice.html">Legal Notice</a>
        <a href="/html/privacy_policy.html">Privacy Policy</a>
        <a href="/index.html" onclick="clearTasksInLocalStorage()">Log out</a>
      </div>
    </div>
  </header>
</div>

  <aside class="sidebar">

    <div class="top-section">
      <div class="sidebar-logo">
        <a href="/index.html" class="start">
          <img src="/assets/img/logo_sidemenu.png" alt="logo">
        </a>
      </div>

      <nav class="main-nav">
        <ul>
          <li class="main-nav-size">
            <a href="/html/summary.html">
              <img class="img-main-nav" src="/assets/img/summary.png" alt="Summary Icon">
              <span>Summary</span>
            </a>
          </li>
          <li class="main-nav-size">
            <a href="/html/add_task.html">
              <img class="img-main-nav" src="/assets/img/addtask.png" alt="Add Task Icon">
              <span>Add Task</span>
            </a>
          </li>
          <li class="main-nav-size">
            <a href="/html/board.html">
              <img class="img-main-nav" src="/assets/img/board.png" alt="Board Icon">
              <span>Board</span>
            </a>
          </li>
          <li class="main-nav-size">
            <a href="/html/contacts.html">
              <img class="img-main-nav" src="/assets/img/contacts.png" alt="Contacts Icon">
              <span>Contacts</span>
            </a>
          </li>
        </ul>
      </nav>
    </div>
    <nav class="bottom-nav">
      <ul>
        <li><a class="bottom-nav-a" href="/html/privacy_policy.html">Privacy Policy</a></li>
        <li><a class="bottom-nav-a" href="/html/legal_notice.html">Legal Notice</a></li>
      </ul>
    </nav>
  </aside>

  <main class="add-task-content-wrapper abs-l-328 d-flex-column">
    <section class="add-task-header-wrapper">
      <h1 class="add-task-title">Add Task</h1>
    </section>

    <section class="add-task-content">
      <form method="POST" class="add-task-form d-flex-space-between size-20 gap-24">
        <div class="form-inputs d-flex-column gap-24">
          <div class="task-title-input-wrapper d-flex-column gap-8">
            <label for="task-title"><span>Title</span><span class="red">*</span></label>
            <input class="task-input-fields size-20 br-10" type="text" id="task-title" name="task-title"
              placeholder="Enter a title" minlength="4"
              onfocus="checkTitleInputValue(`task-title-error`, `value-length-error`, `task-title`)"
              oninput="checkTitleInputValue(`task-title-error`,`value-length-error`, `task-title`)" />
            <span class="required-error-message d_none" id="task-title-error">This field is required!</span>
            <span class="required-error-message d_none" id="value-length-error">Value too short!</span>
          </div>
          <div class="task-description-input wrapper d-flex-column gap-8">
            <label for="task-description"><span>Description</span></label>
            <textarea class="task-description-text size-20 br-10" id="task-description" name="task-description"
              placeholder="Enter a description" minlength="4"
              oninput="checkDescriptionInput(`task-description`, `description-value-length-error`)"
              onfocus="checkDescriptionInput(`task-description`, `description-value-length-error`)"></textarea>
            <span class="required-error-message d_none" id="description-value-length-error">Value too short!</span>
          </div>
          <div class="date-picker-wrapper d-flex-column gap-8">
            <label for="date"><span>Due date</span><span class="red">*</span></label>
            <input class="date-picker size-20 br-10" type="text" id="due-date-add-task" name="due-date"
              placeholder="dd/mm/yyyy"/>
            <span class="required-error-message d_none" id="due-date-required-error-message">This field is
              required!</span>
            <span class="required-error-message d_none" id="due-date-time-error-message">Date needs to be in the
              future!</span>
            <span class="required-error-message d_none" id="date-format-error-message">Expected format
              dd/mm/yyyy!</span>
          </div>
        </div>
        <div class="separator"></div>
        <div class="form-inputs form-inputs-right d-flex-column gap-24">

<div class="priority-wrapper d-flex-column gap-8">
  <label for="priority">Priority</label>
  <div class="d-flex-space-between gap-8">


    <div class="priority-labels d-flex-center gap-8 br-10 default-prio-bg" id="urgent"
         onclick="changePriorityLabelColors('urgent')">
      <span>Urgent</span>
      <span class="priority d-flex-center">
        <svg width="18" height="12" viewBox="0 0 18 12" fill="none" xmlns="http://www.w3.org/2000/svg" id="urgent-svg">
          <path d="M9 4.75..." fill="#FF3D00" />
          <path d="M9 0..." fill="#FF3D00" />
        </svg>
      </span>
    </div>

 
    <div class="priority-labels d-flex-center gap-8 br-10 medium-prio-bg weight-700" id="medium"
         onclick="changePriorityLabelColors('medium')" style="color: #ffffff;">
      <span>Medium</span>
      <span class="priority d-flex-center">
        <svg width="18" height="8" viewBox="0 0 18 8" fill="none" xmlns="http://www.w3.org/2000/svg" id="medium-svg">
          <path d="M16.57 7.17..." fill="#ffffff" />
          <path d="M16.57 2.71..." fill="#ffffff" />
        </svg>
      </span>
    </div>


    <div class="priority-labels d-flex-center gap-8 br-10 default-prio-bg" id="low"
         onclick="changePriorityLabelColors('low')">
      <span>Low</span>
      <span class="priority d-flex-center">
        <svg width="18" height="12" viewBox="0 0 18 12" fill="none" xmlns="http://www.w3.org/2000/svg" id="low-svg">
          <path d="M9 7.25..." fill="#7AE229" />
          <path d="M9 12..." fill="#7AE229" />
        </svg>
      </span>
    </div>

  </div>
</div>

          <div class="assigned-to-wrapper d-flex-column gap-8">
            <label for="assigned-to">Assigned To</label>
            <div class="dropdown-field-wrapper">
              <div class="dropdown-input-wrapper br-10 d-flex-center"
                onclick="toggleDropdownSelection('assigned-to-dropdown', event)">
                <input class="dropdown-input size-20" type="text" id="assigned-to-input" name="assigned-to"
                  placeholder="Select contacts to assign" oninput="searchUsersToAssign('assigned-to-dropdown')" />
                <span class="dropdown-icon-closed" id="assigned-to-dropdown-closed"
                  onclick="toggleDropdownSelection('assigned-to-dropdown', event)"></span>
                <span class="dropdown-icon-open d_none" id="assigned-to-dropdown-open"
                  onclick="toggleDropdownSelection('assigned-to-dropdown', event)"></span>
              </div>
              <div class="dropdown-wrapper d_none" id="assigned-to-dropdown">
                <ul class="dropdown d-flex-column" id="assigned-to-users-list">
                </ul>
              </div>
              <div class="d_none" id="assignees-list-task-form">
              </div>
            </div>
          </div>
 <div class="category-wrapper d-flex-column gap-8">
  <label for="category"><span>Category</span><span class="red">*</span></label>
  <select id="category" name="category" class="dropdown-input size-20 br-10">
    <option value="" disabled selected>Select task category</option>
    <option value="technical">Technical Task</option>
    <option value="userStory">User Story</option>
  </select>
  <span class="required-error-message d_none" id="category-error">This field is required</span>
</div>




            <div class="subtasks-wrapper d-flex-column gap-8">
              <label for="subtasks">Subtasks</label>
              <div class="subtask-input-wrapper d-flex-space-between br-10" onclick="moveCursorToSubtaskInput()">
                <input type="text" name="subtasks" id="subtasks-task-form" class="subtask-input size-20 br-10"
                  placeholder="Add new Subtask" oninput="evaluateSubtaskInput('subtask-value-length-error-message')"
                  onchange="evaluateSubtaskInput('subtask-value-length-error-message')"
                  onkeydown="createSubtaskOnKeyPress('subtasks-task-form', event, 'subtask-value-length-error-message')" />
                <span class="add-subtask-icon" id="add-subtask-icon"></span>
                <div class="confirm-input-icons d-flex-space-between d_none" id="confirm-input-icons">
                  <span class="clear-icon"
                    onclick="clearSubtaskInput('subtasks-task-form', 'subtask-value-length-error-message')"></span>
                  <span class="confirm-input-icons-separator">|</span>
                  <span class="confirm-icon"
                    onclick="addSubtask('subtasks-task-form', 'subtask-value-length-error-message')"></span>
                </div>
              </div>
              <span class="required-error-message d_none" id="subtask-value-length-error-message">Value too
                short!</span>
              <div class="subtask-list-wrapper d-flex-column">
                <ul class="subtask-list" id="subtask-list">
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div style="display: none;" class="respon-text">
          <span class="red respon-text">*</span>
          <span class="text-bottom respon-text">This field ist required</span>
        </div>
      </form>

    </section>
    <section class="add-task-footer d-flex-space-between">
      <div class="text-container d-flex-center">
        <span class="red respon-d-none">*</span>
        <span class="text-bottom">This field ist required</span>
      </div>
      <div class="d-flex-space-between gap-16">
        <button class="clearBtn d-flex-space-between size-20 br-10" onclick="resetTaskHTML()">
          <span>Clear</span>
          <span class="cancel-icon"></span>
        </button>
        <button class="createBtn d-flex-space-between size-20 br-10" onclick="createTask('due-date-add-task')">
          <span>Create Task</span>
          <span class="checkmark-icon"></span>
        </button>
      </div>
    </section>
    <div id="success-message" class="success-message d_none">
      Task created successfully ☺️
    </div>
  </main>
  <nav class="mobile-nav" id="mobile-nav">
    <a href="/html/summary.html">
      <div class="nav-icon-wrap">
        <img src="/assets/img/summary.png" alt="Summary" />
        <span>Summary</span>
      </div>
    </a>
    <a href="/html/board.html">
      <div class="nav-icon-wrap">
        <img src="/assets/img/board.png" alt="Board" />
        <span>Board</span>
      </div>
    </a>
    <a href="/html/add_task.html">
      <div class="nav-icon-wrap">
        <img src="/assets/img/addtask.png" alt="Add Task" />
        <span>Add Tasks</span>
      </div>
    </a>
    <a href="/html/contacts.html">
      <div class="nav-icon-wrap">
        <img src="/assets/img/contacts.png" alt="Contacts" />
        <span>Contacts</span>
      </div>
    </a>
  </nav>

  <script src="/js/script.js"></script>
  <script src="/js/add_task.js" defer></script>
  <script src="/js/dropwdown.js" defer></script>
  <script src="/js/firebase.js" type="module" defer></script>
  <script src="/js/firebase_functions.js" type="module" defer></script>
  <script src="/js/template.js"></script>
</body>

</html>